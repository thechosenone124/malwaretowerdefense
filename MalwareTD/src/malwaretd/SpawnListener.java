package malwaretd;

import java.util.ArrayList;

import jgame.Context;
import jgame.GObject;
import jgame.listener.TimerListener;

public abstract class SpawnListener extends TimerListener {
	private double spawnTimer;
	private double timeDown=0;

	public SpawnListener(double spawn) {
		super((int) (spawn * 30));
		spawnTimer = spawn;
	}

	public abstract Enemy createEnemy();

	public void invoke(GObject target, Context context) {
		timeDown+=1;

		if (spawnTimer > .5  && timeDown%3 == 0)
		spawnTimer -= .5;
		setInterval((int) (spawnTimer * 30));

		Enemy malware = createEnemy();
		ArrayList<Enemy> list = new ArrayList<Enemy>();
		list.add(malware);
		target.addAt(malware, 1000, 1000);

	}

}
