package malwaretd;

import jgame.Context;
import jgame.GContainer;
import jgame.GObject;
import jgame.GSprite;
import jgame.ImageCache;
import jgame.controller.ScaleTween;
import jgame.listener.ButtonListener;
import jgame.listener.DelayListener;

public class StartMenu extends GContainer {
	public StartMenu() {
		super();
		setSize(640, 640);
		final GSprite bg = new GSprite(ImageCache.getImage("StartMenu.png"));
		addAtCenter(bg);
		StartButton start = new StartButton(
				ImageCache.getImage("StartButton.png"));
		addAtCenter(start);
		start.addListener(new ButtonListener() {
			@Override
			public void mouseClicked(Context context) {
				addListener(new DelayListener(30 * 5) {
					@Override
					public void invoke(GObject target, Context context) {
						context.setCurrentGameView(MalwareTD.View.GAME);
					}
				});
				ScaleTween st = new ScaleTween(30 * 5, 1, 4);
				bg.addController(st);
				// a delay
				// try {
				// Thread.sleep(1000);
				// } catch(InterruptedException ex) {
				// Thread.currentThread().interrupt();
				// }

			}
		});
	}
}
