package malwaretd;

import jgame.ButtonState;
import jgame.Context;
import jgame.GContainer;
import jgame.GObject;
import jgame.GSprite;
import jgame.ImageCache;
import jgame.controller.ScaleTween;
import jgame.listener.DelayListener;

public class StartMenuAnimation extends GContainer {
	public StartMenuAnimation() {
		super();
		setSize(640, 640);
		final GSprite bg = new GSprite(ImageCache.getImage("StartMenu.png"));
		addAtCenter(bg);

		StartButton start = new StartButton();
		addAtCenter(start);

		final GSprite bg2 = ImageCache.getSprite("Background2.png");
		bg2.setScale(1 / 6);
		addAtCenter(bg2);

		final GSprite bgk = ImageCache.getSprite("KITTENS.png");
		addAtCenter(bgk);

		start.setStateSprite(ButtonState.NONE,
				ImageCache.getSprite("start_buttonPressed.png"));
		start.setStateSprite(ButtonState.HOVERED,
				ImageCache.getSprite("start_buttonPressed.png"));

		ScaleTween st = new ScaleTween(30 * 4, 1, 6);
		bg.addController(st);
		ScaleTween st2 = new ScaleTween(30 * 4, 1 / 6, 1);
		bg2.addController(st2);
		ScaleTween stk = new ScaleTween(1, .001, .001);
		bgk.addController(stk);
		addListener(new DelayListener(30 * 4) {
			@Override
			public void invoke(GObject target, Context context) {
				context.setCurrentGameView(MalwareTD.View.GAME);
			};

		});
	}

}
