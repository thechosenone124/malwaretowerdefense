package malwaretd;

import java.util.ArrayList;

import jgame.GContainer;
import jgame.GSprite;
import jgame.ImageCache;
import jgame.listener.TimerListener;

public class GameView extends GContainer {
	public GameView() {

		super(new GSprite(ImageCache.forClass(MalwareTD.class).get(
				"/Background1.png")));
		// Set the size.
		setSize(640, 480);
		Enemy1 virus = new Enemy1();
		Enemy2 worm = new Enemy2();
		TimerListener virusmaker = new TimerListener(virus.getSpawnRate()*30) {
			@Override
			public void invoke(jgame.GObject target, jgame.Context context) {
				Enemy1 virus = new Enemy1();
				ArrayList<Enemy1> list = new ArrayList<Enemy1>();
				list.add(virus);
				addAt(virus, 1000, 1000);
				setInterval(virus.getSpawnRate()*30);

			}

		};

		TimerListener wormmaker = new TimerListener(worm.getSpawnRate()*30) {
			@Override
			public void invoke(jgame.GObject target, jgame.Context context) {
				Enemy2 worm = new Enemy2();
				ArrayList<Enemy2> list = new ArrayList<Enemy2>();
				list.add(worm);
				addAt(worm, 1000, 1000);
				setInterval(worm.getSpawnRate()*30);
			}
		};
		addListener(virusmaker);
		addListener(wormmaker);
	}
	
	  public void initializeTurret(final Turret t) {
	        if (settingTurret) {
	            return;
	        }
	        settingTurret = true; // This is only run when init turret is called
	       pc.addAtCenter(t);
	    }
}
