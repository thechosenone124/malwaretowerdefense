package malwaretd;

import java.util.ArrayList;

import jgame.Context;
import jgame.GContainer;
import jgame.GObject;
import jgame.GSprite;
import jgame.ImageCache;
import jgame.listener.TimerListener;



public class GameView extends GContainer {
	int trojanspawn = 10;
	int virusspawn = 4;
	int wormspawn = 2;
	public GameView() {

		super(new GSprite(ImageCache.forClass(MalwareTD.class).get(
				"/Background1.png")));
		// Set the size.
		setSize(640, 480);

		TimerListener spawnmaster = new TimerListener(5*30) {
			@Override
			public void invoke(GObject target, Context context) {
			// TODO Auto-generated method stub
				if (virusspawn>1)
					virusspawn--;

				
				if (wormspawn>1)
					wormspawn--;


				
				if (trojanspawn>1)
					trojanspawn--;
			}
		};
		
		TimerListener virusmaker = new TimerListener(virusspawn*30) {
			@Override
			public void invoke(jgame.GObject target, jgame.Context context) {
				Enemy1 virus = new Enemy1();
				ArrayList<Enemy1> list = new ArrayList<Enemy1>();
				list.add(virus);
				addAt(virus, 1000, 1000);
				setInterval(virusspawn*30);

			}

		};

		TimerListener wormmaker = new TimerListener(wormspawn*30) {
			@Override
			public void invoke(jgame.GObject target, jgame.Context context) {
				Enemy2 worm = new Enemy2();
				ArrayList<Enemy2> list = new ArrayList<Enemy2>();
				list.add(worm);
				addAt(worm, 1000, 1000);
				
				setInterval(wormspawn*30);
			}
		};
		

		TimerListener trojanmaker = new TimerListener(trojanspawn *30) {
			@Override
			public void invoke(jgame.GObject target, jgame.Context context) {
				Enemy3 trojan = new Enemy3();
				ArrayList<Enemy3> list = new ArrayList<Enemy3>();
				list.add(trojan);
				addAt(trojan, 1000, 1000);

					setInterval(trojanspawn *30);
			}
		};
		addListener(virusmaker);
		addListener(wormmaker);
		addListener(trojanmaker);
		addListener(spawnmaster);
	}
}

