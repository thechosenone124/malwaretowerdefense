package malwaretd;

import javax.naming.Context;

import jgame.ButtonState;
import jgame.GButton;
import jgame.GSprite;
import jgame.ImageCache;
import jgame.listener.ButtonListener;

public class Tile extends GButton {
	
	TurretRecipe tr;

	public Tile(TurretRecipe recipe, Image image) {
	this.tr = recipe;

	setSize(92, 96);

	GSprite sNone = ImageCache.getSprite("tile_none.png");
	GSprite sHover = ImageCache.getSprite("tile_hover.png");
	GSprite sPressed = ImageCache.getSprite("tile_pressed.png");

	setStateSprite(ButtonState.NONE, sNone);
	setStateSprite(ButtonState.HOVERED, sHover);
	setStateSprite(ButtonState.PRESSED, sPressed);

	GSprite sIcon = new GSprite(image);

	sIcon.setScale(0.8);
	addAtCenter(sIcon);

	addListener(new ButtonListener() {

	    @Override
	    public void mouseClicked(Context context) {

	        getFirstAncestorOf(GameView.class).initializeTurret(turret);
	        }
	    
	  

	    });

	}

}
